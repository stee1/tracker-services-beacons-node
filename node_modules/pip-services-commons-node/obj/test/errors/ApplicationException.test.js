"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var assert = require('chai').assert;
var ApplicationException_1 = require("../../src/errors/ApplicationException");
suite('ApplicationException', function () {
    var _appEx;
    var _ex;
    var Category = "category";
    var CorrelationId = "correlationId";
    var Code = "code";
    var Message = "message";
    beforeEach(function () {
        _ex = new Error("Couse exception");
        _appEx = new ApplicationException_1.ApplicationException(Category, CorrelationId, Code, Message);
    });
    test('With Couse', function () {
        _appEx.withCause(_ex);
        assert.equal(_ex.message, _appEx.cause);
    });
    test('Check Parameters', function () {
        assert.equal(Category, _appEx.category);
        assert.equal(CorrelationId, _appEx.correlation_id);
        assert.equal(Code, _appEx.code);
        assert.equal(Message, _appEx.message);
    });
    test('With Code', function () {
        var newCode = "newCode";
        var appEx = _appEx.withCode(newCode);
        assert.equal(_appEx, appEx);
        assert.equal(newCode, appEx.code);
    });
    test('With CorrelationId', function () {
        var newCorrelationId = "newCorrelationId";
        var appEx = _appEx.withCorrelationId(newCorrelationId);
        assert.equal(_appEx, appEx);
        assert.equal(newCorrelationId, appEx.correlation_id);
    });
    test('With Status', function () {
        var newStatus = 777;
        var appEx = _appEx.withStatus(newStatus);
        assert.equal(_appEx, appEx);
        assert.equal(newStatus, appEx.status);
    });
    test('With Details', function () {
        var key = "key";
        var obj = {};
        var appEx = _appEx.withDetails(key, obj);
        var newObj = appEx.details.getAsObject(key);
        assert.equal(_appEx, appEx);
    });
    test('With Stack Trace', function () {
        var newTrace = "newTrace";
        var appEx = _appEx.withStackTrace(newTrace);
        assert.equal(_appEx, appEx);
        assert.equal(newTrace, appEx.stack_trace);
    });
});
//# sourceMappingURL=ApplicationException.test.js.map